#pragma once

#include <cstdint>
#include <random>
#include <array>
#include <algorithm>

namespace Zobrist
{
    inline std::array<std::array<uint64_t, 64>, 12> piece_keys = {17852275050156829168ull, 1490903508674656677ull, 9405501592517627609ull, 15797310531444099236ull, 7779441739738616180ull, 4966430347325254264ull, 5729834638469739292ull, 2352709773228167684ull, 10462102161394588317ull, 15752985371014970715ull, 2168459267100244849ull, 13962092965729974326ull, 7472911064697093725ull, 8385726317453877844ull, 13903863081489789673ull, 1102122058624163923ull, 11458232841893936502ull, 7976357823327222540ull, 3344168582860427229ull, 17973995745835723869ull, 9544427274836569067ull, 9381681046693551703ull, 12905572809275907836ull, 9749068302135709046ull, 17248298430265305354ull, 8860730046405035598ull, 5737277053502312602ull, 9644063685375913580ull, 7699076135356702817ull, 4719204041548064213ull, 1522342386670684450ull, 10627197233453635525ull, 30416396976687455ull, 10742577936968167751ull, 16910068020906383208ull, 10341035938198730249ull, 9725313031112987814ull, 10843939168535057701ull, 6937697113385355622ull, 4430727189535524230ull, 17829966892423891535ull, 14681081487276114345ull, 9725707357805102355ull, 3578843508677051975ull, 593625471563961916ull, 12717807474645653802ull, 17917258697554339004ull, 11804663631195048181ull, 12678407158814624316ull, 8441008761703054472ull, 17966862296152229902ull, 4864659835437767104ull, 9957633253208831558ull, 14513573675660817882ull, 12798530233719301466ull, 16419813242205275780ull, 14349255196210357650ull, 16982559857000160663ull, 16071784496569142819ull, 12470769296169574520ull, 14737043005410880781ull, 16263229949013824517ull, 11635041710434799558ull, 8180010792767610017ull, 13707175038608743363ull, 2483481090704394561ull, 12485822399974321513ull, 10318628930847694291ull, 7768762477697081785ull, 10495098479699256639ull, 3446822617827967110ull, 990115190755408269ull, 9390537648110871644ull, 3853128887217320987ull, 16320119703977500669ull, 17582025018403409080ull, 6544406024697330971ull, 14492168435429709335ull, 1031009212483395347ull, 16819221492450317661ull, 5806234737523163198ull, 13364046927361080971ull, 1824583569993402076ull, 16005013082677852399ull, 13753449686701658614ull, 16646099065242655121ull, 17324580121781461248ull, 17546282014053755711ull, 8603487800099081230ull, 1767609475638072085ull, 17748170169467320289ull, 6784982758753883288ull, 107937738892202348ull, 3886118077038997795ull, 15031680143327197726ull, 4990518865287679356ull, 1627261529811723435ull, 11673523536067174647ull, 5199643145553093741ull, 17175715083674589564ull, 1222214241366975600ull, 12236730172585470863ull, 18142212716776732092ull, 4288501217766276162ull, 17144240617425674016ull, 11010641686376359094ull, 18347316409226518725ull, 7426311487210752598ull, 317861125582376774ull, 12831203766819161813ull, 7003083446376833658ull, 2651798608970894743ull, 2720539144593161242ull, 4392949516006584270ull, 18358269715786089595ull, 14601564372325530714ull, 12086849171387091915ull, 18028214260581251313ull, 2797199121482258857ull, 423593424622988341ull, 1821878315547999278ull, 1183527909154819013ull, 8977541867051034174ull, 2579177424592594272ull, 9706528406851005194ull, 13047920531642254298ull, 10076598981656806776ull, 8498461121097866020ull, 12122450285474244895ull, 1830008929297921304ull, 3877050539373223276ull, 2689250060478809950ull, 13970712115370478457ull, 4941258431050604195ull, 5883314722704411990ull, 17738390527730048068ull, 11375762531958128523ull, 10283828698961799274ull, 14244314684459163331ull, 11419676840830516143ull, 317137129595284037ull, 3656139150629827136ull, 10688208729699156823ull, 5963061030161730305ull, 7660032063679333114ull, 13550215141651088545ull, 11970177298775245659ull, 13085429245224777714ull, 6359921316704653191ull, 14881681910538603728ull, 601435859450055760ull, 9716438953841470008ull, 11200216057551861058ull, 8045083376561045273ull, 13356821379295189682ull, 16235132517056975743ull, 3362361699333716640ull, 8293580231586445777ull, 4790095002560592646ull, 14608002551708101048ull, 14013931280853455757ull, 6939843523806924309ull, 1486116918247621196ull, 17791880443204738047ull, 544391431290127843ull, 17673989783026524355ull, 8407176025303586017ull, 6783271487397118726ull, 17085400320892922804ull, 6674428569395233743ull, 2584308243374381825ull, 3430850830663817554ull,12570250198336974995ull, 17888914086819601457ull, 9410659636904065936ull, 17320724906221135957ull, 4022063916229839435ull, 649796525605953537ull, 12477269708991989515ull, 15077609716323262477ull, 11232692971371732703ull, 2304194698215049114ull, 4220606124015811976ull, 13843326156811066784ull, 7536352028019080822ull, 2740835195245792494ull, 8431943018545859740ull, 5909748141337388951ull, 4886926461180263603ull, 12738430207396003114ull, 781180175331353859ull, 15563656216060536600ull, 14553745895487437919ull, 566512287818724548ull, 4169823584975358269ull, 9654984954224066320ull, 17703413542646454790ull, 3937476459156707155ull, 14172148518724740443ull, 5932428824056852253ull, 7028982015561569450ull, 11049528567319278936ull, 4253172153602506589ull, 10041359444426120812ull, 16585713860653786895ull, 17504052495469729180ull, 8596791102680367660ull, 6920490043191915061ull, 1550663625978745198ull, 10646971488486614395ull, 13147379746950113852ull, 2751666630352016679ull, 15111460190720056678ull, 1539409249912838646ull, 15538042580897168459ull, 13757815436462452908ull, 9981565650014707427ull, 16924825177546283356ull, 15629438385766425578ull, 1178085795405652081ull, 17913743218531861447ull, 11274082912313710265ull, 2863335252244306407ull, 4335132292750261742ull, 16013395458600261551ull, 10674801592518906747ull,8772546441162826265ull, 1474904951087324626ull, 15275384546446097025ull, 966664639317848894ull, 9662945434519190626ull,17748184550099410850ull, 7231534125733056583ull, 5749219657423931070ull, 2881349007959377327ull, 11499411141797527071ull, 3298699732318665603ull, 287605248221772645ull, 5872281117054817630ull, 8015588626825479698ull, 15404947433093108492ull, 10849319106831647714ull, 7365264461193420209ull, 9723942038711865689ull, 2546558883201901320ull, 11417985319496230811ull, 3314190308709933363ull, 17767905783995185767ull, 5263624954834557922ull, 1228476542513596814ull, 11234049805596675653ull, 6697117993448270449ull, 12021856344949507323ull, 4610433734164765683ull, 9409263685509413257ull, 16842116165316847618ull, 4133417793805442134ull, 1263912996044009875ull, 3451889805327713904ull, 4285811593707093409ull, 1799619334373824225ull, 3696138950561024222ull, 12342038768312047598ull, 7511040492959026659ull, 8478622295275278522ull, 10179989385558427831ull, 5590487739159046063ull, 10116525341831549447ull, 7998763354307457772ull, 15863383702093631139ull, 2526750244382504635ull, 2084045415400667863ull, 2804996259779677516ull, 1058037581230617580ull, 16772550610101228933ull, 12585729065807159218ull, 16782097260279496667ull, 70387796060236010ull, 1486166450303729283ull, 829339388173465474ull, 18066950133041169176ull, 13742853238499113121ull, 5578686181208435020ull, 17405385011902914294ull, 12631959504794599330ull, 888811695846411420ull, 7927382679549880081ull, 2528092732486373030ull, 15455308362390387493ull, 2462738656937797552ull, 16743561176215226232ull, 10663477817889726416ull, 8055715059360279411ull, 18409137474985535041ull, 5278636984023635152ull, 14879523730836036797ull, 4523878541646909850ull, 4288858722573527942ull, 15630028460195727298ull, 7537268156808887750ull, 3190771624736108633ull, 11208405713554332837ull, 799203529533902367ull, 11079299842571251147ull, 15336234987915421986ull, 12473344386183349979ull, 5867720131574702473ull, 3379601702989690103ull, 1396924107113417573ull, 8957215987653429953ull,13577575011367682653ull, 15574923672754128376ull, 18051855812186973110ull, 12725804471146265352ull, 13695893697726082212ull, 6271005887347369598ull, 2780340496596554962ull, 12086411228337802641ull, 5972146307749071683ull, 9097029539472831064ull, 3588522237267769148ull, 2027905018345479389ull, 17574568932456331081ull, 13009290670543790695ull, 15602823124575855962ull, 7320384751851598093ull, 8324825167540636527ull, 12498147104371077850ull, 2605398306388572973ull, 18025478244114348597ull, 12463194390062560882ull, 16671797110916698101ull, 5979672479254802363ull, 3670210184525715381ull, 11266889079743370104ull, 6126542340481650045ull, 671917755408338021ull, 563856932121399446ull, 553040783991153070ull, 15791750904922057766ull, 11406766955753214280ull, 6436365487548930662ull, 5903689560834391796ull, 12469954955921932328ull, 3116648136314836421ull, 17414545217021811985ull, 4385051053012366327ull, 14400383957979525167ull, 10496651876506785887ull, 2321058473689218903ull, 15416588194459285242ull, 7793976331483374452ull, 13670490897209475789ull, 4420510742585197743ull, 4751820233486604990ull, 14100957493366322785ull, 15874710424081162885ull, 2744152471962923859ull, 9601937290403142481ull, 9758339435151588934ull, 8746221312959293914ull, 10449015881249698676ull, 14875365726209042977ull, 9525799770565817769ull, 7166965850543044306ull, 10815683198775693159ull, 11676193220666013156ull, 7748948224448095946ull, 12884159657734957292ull, 17814512198969235225ull, 8764517534994124723ull, 6320010099879506496ull, 1483724080576984224ull, 17600929227530554631ull, 491600268070658649ull, 15040904049637608999ull, 7574532314298544628ull, 14131604521114078408ull, 17864317574305886256ull, 1550053031684743145ull, 9792088083065422384ull, 9645781983200837282ull, 4835065338994858423ull, 4017676771535647147ull, 12658465014083100327ull, 17760581603944637193ull, 8196689821973520509ull, 14922868358215524064ull, 13585446718561068142ull, 10718048888808147109ull, 5500653290677010206ull, 8955845445023445908ull, 11528690899205650498ull, 14251204135765430407ull, 495745378791978517ull, 6565523557181151998ull, 6657414132135513754ull, 18004496261600448084ull, 13295808651579868906ull, 10057275624130409780ull, 429115071364502686ull, 2009068056775360881ull, 10213846488429820580ull, 16854781929262311930ull, 10221017908544973224ull, 215438192597906349ull, 4344691946298757686ull, 11499009418205841793ull, 1109977274624304845ull, 13498294680801787007ull, 10464425483582918524ull, 16160631511198829882ull, 73090197367192105ull, 17066069334833474454ull, 14881025270522911717ull, 7752962596977791563ull, 15772870851338595265ull, 2441485916917588897ull, 13196976937051694913ull, 12842387946440839951ull, 16479943673933638494ull, 11114877468108866113ull, 6473351319101222006ull, 5660005606651271845ull, 18312278268352438484ull, 955462158649629358ull, 4788192527807282921ull, 12669884406384176279ull, 2392779412212863255ull, 8005002355854907933ull, 4171076202376749336ull, 3773028619916448314ull, 10925956980326518334ull, 16271913136779400811ull, 13263768470719287415ull, 2426605469308776615ull, 6091854304963283567ull, 7622736851172208816ull, 8216567488906710497ull, 3768071113589580559ull, 2606971842663033168ull, 18358284444007969978ull, 3010021815449155311ull, 17083418164729171966ull, 18036673731937094086ull, 15964974357443346674ull, 7900173961097619832ull, 16357300049025756662ull, 5262671279659471261ull, 1107765999950882321ull, 12069595732356388724ull, 135934321263939489ull, 10745016459673519637ull, 5261293227389730855ull, 17811011797932103837ull, 16544070243994795434ull, 2378423070384019627ull, 1708349289254267822ull, 15566054662204024939ull, 8755879549744119863ull, 3182625084108141097ull, 9096910873264003530ull, 6424695315466369739ull, 16459975143843498739ull, 3739066151534958723ull, 12720446714988173474ull, 17412798642739119281ull, 9544596214504468605ull, 5428192344514874430ull, 708783346603723967ull, 12817580566043704140ull, 3765028678544648275ull, 17025386668664476301ull, 8952591308555385633ull, 1697280897156791473ull, 17920396605039779542ull, 10021767118845162481ull, 1926765499607073852ull, 10825797215567231752ull, 17309699922664600517ull, 4029360689994899864ull, 10673795448349584236ull, 5728291122456087481ull, 1157105385949106081ull, 9992440613988933177ull, 12888270101397918811ull, 11346845665184120725ull, 4758313789192543848ull, 2916378852387449540ull, 5802368639901942493ull, 11349180194532315489ull, 108467415573710857ull, 4821179459129278897ull, 437397112548500350ull, 11538109717541964454ull, 5892441772377671662ull, 13895719117032102954ull, 15416545757797789451ull, 6552907307480550945ull, 9049270619511093140ull, 8634244390121916928ull, 4121507107097852297ull, 9168296272411806467ull, 7021110446019469774ull, 13500859445169553495ull, 1230521983015418669ull, 7823024914989971885ull, 9388882494791210125ull, 4251375912454356042ull, 9234232369799285171ull, 9879469097050696694ull, 17799511277112973838ull, 1771447457227185302ull, 14371180056611850684ull, 8025008233620954320ull, 14099369067497315146ull, 14691809381712546672ull, 7767404963936633936ull, 14403823707582507356ull, 15158592393274133432ull, 18242139631915670364ull, 14662727461728627082ull, 3295553900561406396ull, 16458513818310869ull, 4866718141359464637ull, 11612290184167163245ull, 13915899978027067649ull, 8731925444223804315ull, 897181906458618754ull, 2672480167651065210ull, 6166673306410259161ull, 9219412789386209749ull, 697685868496569132ull, 10570169493632381915ull, 5615036335316219646ull, 15817600307656032485ull, 18159847297069299466ull, 5746349186748081725ull, 2178404808657793794ull, 15275652179444801037ull, 16643992439106033510ull, 15427790254885772948ull, 7207576154495608954ull, 12847888502632767177ull, 13008457297290167324ull, 12211134400714808875ull, 12305705272033449707ull, 4224390749713863718ull, 14966336763645443894ull, 9229200682228684954ull, 2040916342129829993ull, 5639655132721258470ull, 9719757682845982454ull, 1441569995274099413ull, 5117256187650826859ull, 15796575712002443000ull, 2107569642324092202ull, 398952610005189916ull, 6938538595995464267ull, 668891584145952958ull, 7199788872337157985ull, 18218686839251281842ull, 2533966041573601578ull, 12052885429501976428ull, 4623963156184596440ull, 13705026691592745258ull, 9351461988884551035ull, 6118927606538237757ull, 5249165299332475270ull, 17650099903201432581ull, 9060863581110395495ull,11453807504462144584ull, 10093303954394775825ull, 221835702752663242ull, 17839007137523414068ull, 6811379634301364185ull, 9039162436294925092ull, 14147613966771443806ull, 10106957034851741557ull, 17785644907793971883ull, 1597510176565288061ull, 949039197285304195ull, 13810138800104991944ull, 1478100494519588558ull, 15795657578899059317ull, 316434245948849196ull, 255645401449606546ull, 15458931699874355527ull, 2633172138307704278ull, 12000863141899260136ull, 7410885212180192639ull, 1233839388237189104ull, 4484097893096215720ull, 2975652467884034968ull, 10770586422539364780ull, 12379972110246592816ull, 1986112128166366778ull, 8442702072621217511ull, 1134916640322149438ull, 10163327078505504498ull, 6836652343103703963ull, 6642363204555089083ull, 5706496646190165460ull, 3304981802850522631ull, 9679426622580949139ull, 11262726083991023446ull, 4125217330441179072ull, 10308199432182015661ull, 2265478474093006787ull, 10337660129580553963ull, 7794347709699126019ull, 6950174859865806609ull, 15013169756892766034ull, 4918245343266038223ull, 12380266418536126878ull, 468823957269803041ull, 15498840243887411766ull, 17042631546799898227ull, 2237500304920463918ull, 527426406235504901ull, 5579281744911989581ull, 11531281594030906102ull, 1934466941480210569ull, 9569608734478963307ull, 14850497026532028972ull, 17422869986547422776ull, 1609315527163563731ull, 8519724172769053164ull, 6871526916696564200ull, 2726703891902623971ull, 6716870828307079958ull, 9052399525135691534ull, 1619104265464404694ull, 14187822569513672888ull, 15345577153993506465ull, 426898873026579615ull, 7637397003802622022ull, 14371699732374734403ull, 14497676000642297548ull, 7204462089884672286ull, 4561153158185508532ull, 4106625609116749083ull, 15627607897518291133ull, 16389720783905280243ull, 18357223257068458554ull, 15771542241931494402ull, 2164484541940035717ull, 11023290643834107991ull, 11776293096503913416ull, 4415217772406353907ull, 11487777445947727566ull, 12387599288589086353ull, 2823415432836412997ull, 5607092838850688259ull, 15624133135382443071ull, 3045612726208755061ull, 1048442151845838257ull, 10610559512817352123ull, 3681297104283108373ull, 4842820957851011883ull, 13218017602081103106ull, 10370554927333895037ull, 11904682505983638444ull, 11923427800714908063ull, 3587221724901384772ull, 5245063166423895584ull, 629612764877036499ull, 3926665690509818461ull, 16398495437574586428ull, 9441302827991934246ull, 4357937480910491928ull, 1390603810790282720ull, 5828905684506707390ull, 17682935985802958890ull, 10442280940179792833ull, 6648266211508594864ull, 10121975748661788447ull, 10890427583363045147ull, 5733204427685273454ull, 16599392112779460570ull, 18378489729626122813ull, 12435565262154997384ull, 14357313143434808997ull, 13803990106468058851ull, 6621306633641980474ull, 4033592910896409044ull, 10723120374483328461ull, 16289278718073906242ull, 3070019775056528650ull, 191473367015267636ull, 12968811589512141857ull, 1391951829384889588ull, 15085090944431324743ull, 7908007626166069459ull, 12811990887742369014ull, 8551450976648034966ull, 6542740287129963247ull, 12999372044769765417ull, 7840673022060191986ull,10362220899219420392ull, 13151032265844350076ull, 6715465549858784825ull, 3083874631322263858ull, 5120886283908292915ull, 364256767785062595ull, 5907224109432682654ull, 6659721203424022649ull, 11854207689759820742ull, 5009529531430476129ull, 12843667612528023581ull, 1298591281880428211ull, 10420924449665327169ull, 14446246865714933439ull, 8940936341555045193ull, 16612961957709990556ull, 5632530748165028451ull, 12519178435686490879ull, 13006992327869833219ull, 13305758950497810210ull, 3641735987353873287ull, 13642282537353938414ull, 6432308224620419696ull, 7974924101213448037ull, 18387456637443031093ull, 5566278373698138971ull, 8195347300625917296ull, 8336483629192530265ull, 2309819919131128702ull, 6190405589589751442ull, 14410104567435016078ull, 16769211950645082507ull, 16588193453816056322ull, 14143969121444484188ull, 2447183551302663019ull, 4851677951400891559ull, 7720619342174731132ull, 11745137827211752936ull, 7069002568661825106ull, 18195751830853545493ull, 11989376761221786630ull, 18266360534249810314ull, 17212040566993650203ull, 16673600021373620359ull, 12130232490944306750ull, 8638083803579262908ull, 7976911569501566405ull, 3223256617023018946ull, 4609773431964851887ull, 14571923479519896226ull, 10524136197907877019ull, 13529154122149952242ull, 927227167571902047ull, 15973949842891769094ull, 14141555968022995902ull, 3632809727772902011ull, 3381668210195168816ull, 13676040404258432551ull, 995282938202398612ull, 4635685568678315689ull, 16288944161722024889ull, 13103662389940917287ull, 9993688201417602949ull, 4168526838799278825ull, 2732275392320101931ull, 16324246448344394501ull, 4493948305886224235ull, 8275788219592743276ull, 9261576156203552538ull};
    inline std::array castling_keys = {17870027876243079453ull, 3821481556890386839ull, 18124453514827927154ull, 13521814177717511089ull, 14020082153582116345ull, 9781175393557015562ull, 1484345024064912194ull, 17896724937423104485ull, 666267817923911649ull, 15829094506251119154ull, 9855845858380983030ull, 1763885659547325837ull, 13523925963460703082ull, 12162253858505072384ull, 10864858833677036988ull, 9423676114753319988ull};
    inline std::array en_passant_key = {7018441752125795632ull, 7966763794938113061ull, 2500904456526698470ull, 389392686327208260ull, 13830434619554099481ull, 6033030538983510791ull, 12899027592358872760ull, 11591315900743844123ull};
    inline uint64_t side_key = 2037932183140242408ull;
}


